<nz-modal nzWrapClassName="model-add-fence" [nzMaskClosable]="false" [nzFooter]="null" [nzWidth]="'35%'" [(nzVisible)]="isAddPersonVisible"
  [nzTitle]="title" (nzOnCancel)="cancelModal()" (nzAfterOpen)="addModalAfterOpen()" #dragModal [dragModal]="dragModal">
  <ng-container *nzModalContent>
    <form nz-form [formGroup]="validateForm">
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="isStaff">是否本场员工</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <nz-select formControlName="isStaff" nzPlaceHolder="请选择">
            <nz-option nzValue="是" nzLabel="是"></nz-option>
            <nz-option nzValue="否" nzLabel="否"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="name">姓名</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24" [nzErrorTip]="combineTpl">
          <input nz-input formControlName="name" placeholder="请输入姓名" />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="company">单位</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24" [nzErrorTip]="combineTpl">
          <input nz-input formControlName="company" placeholder="请输入单位" />
        </nz-form-control>
      </nz-form-item>
      <ng-template #combineTpl let-control>
        <ng-container *ngIf="control.hasError('maxlength')">输入的字数超出限制</ng-container>
        <ng-container *ngIf="control.hasError('required')">为必填项</ng-container>
      </ng-template>

      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="enterTime">进场时间</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <nz-date-picker formControlName="enterTime"></nz-date-picker>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="outTime">出场时间</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <nz-date-picker formControlName="outTime"></nz-date-picker>
        </nz-form-control>
      </nz-form-item>
      
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="workCard">绑定工卡</nz-form-label>
        <nz-form-control [nzSm]="14" [nzXs]="24">
          <nz-select nzPlaceHolder="请输入工卡" nzAllowClear  formControlName="workCard">
            <ng-container *ngFor="let o of workCardList">
              <nz-option [nzValue]="o.cardcode" [nzLabel]="o.cardcode"></nz-option>
            </ng-container>
          </nz-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="notes">备注</nz-form-label>
        <nz-form-control [nzSpan]="14">
          <textarea formControlName="notes" nz-input rows="2"></textarea>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item nz-row class="register-area">
        <nz-form-control [nzSpan]="6" [nzOffset]="9">
          <button nz-button nzType="primary" (click)="submitForm(validateForm.value)" style="margin-right: 10px;">保存</button>
          <button nz-button nzType="default" (click)="cancelModal()">取消</button>
        </nz-form-control>
      </nz-form-item>
    </form>
  </ng-container>
</nz-modal>
